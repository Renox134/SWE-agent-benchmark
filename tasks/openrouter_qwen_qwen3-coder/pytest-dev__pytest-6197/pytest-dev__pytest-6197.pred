{"model_name_or_path": "openrouter_qwen_qwen3-coder", "instance_id": "pytest-dev__pytest-6197", "model_patch": "diff --git a/src/_pytest/main.py b/src/_pytest/main.py\nindex 3c205027d..eea8196c3 100644\n--- a/src/_pytest/main.py\n+++ b/src/_pytest/main.py\n@@ -564,13 +564,9 @@ class Session(nodes.FSCollector):\n             # Module itself, so just use that. If this special case isn't taken, then all\n             # the files in the package will be yielded.\n             if argpath.basename == \"__init__.py\":\n-                try:\n-                    yield next(m[0].collect())\n-                except StopIteration:\n-                    # The package collects nothing with only an __init__.py\n-                    # file in it, which gets ignored by the default\n-                    # \"python_files\" option.\n-                    pass\n+                collected = m[0].collect()\n+                if collected:\n+                    yield from collected\n                 return\n             yield from m\n \ndiff --git a/src/_pytest/python.py b/src/_pytest/python.py\nindex 306e5f217..6810bed6d 100644\n--- a/src/_pytest/python.py\n+++ b/src/_pytest/python.py\n@@ -176,9 +176,20 @@ def pytest_pyfunc_call(pyfuncitem):\n def pytest_collect_file(path, parent):\n     ext = path.ext\n     if ext == \".py\":\n-        if not parent.session.isinitpath(path):\n-            if not path_matches_patterns(\n-                path, parent.config.getini(\"python_files\") + [\"__init__.py\"]\n+        # If the path is explicitly specified by the user, collect it\n+        if parent.session.isinitpath(path):\n+            # Collect explicitly specified paths\n+            pass\n+        else:\n+            # For __init__.py files, only collect them if they match the python_files pattern\n+            if path.basename == \"__init__.py\":\n+                if not path_matches_patterns(\n+                    path, parent.config.getini(\"python_files\")\n+                ):\n+                    return\n+            # For other .py files, collect them if they match the python_files pattern\n+            elif not path_matches_patterns(\n+                path, parent.config.getini(\"python_files\")\n             ):\n                 return\n         ihook = parent.session.gethookproxy(path)\n@@ -192,6 +203,9 @@ def path_matches_patterns(path, patterns):\n \n def pytest_pycollect_makemodule(path, parent):\n     if path.basename == \"__init__.py\":\n+        # If the path is explicitly specified by the user, treat it as a Module\n+        if parent.session.isinitpath(path):\n+            return Module(path, parent)\n         return Package(path, parent)\n     return Module(path, parent)\n \n"}