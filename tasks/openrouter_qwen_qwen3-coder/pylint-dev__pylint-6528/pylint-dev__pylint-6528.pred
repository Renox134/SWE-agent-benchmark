{"model_name_or_path": "openrouter_qwen_qwen3-coder", "instance_id": "pylint-dev__pylint-6528", "model_patch": "diff --git a/pylint/lint/pylinter.py b/pylint/lint/pylinter.py\nindex 53345a6b..b8bcaaf1 100644\n--- a/pylint/lint/pylinter.py\n+++ b/pylint/lint/pylinter.py\n@@ -564,8 +564,9 @@ class PyLinter(\n             if not msg.may_be_emitted():\n                 self._msgs_state[msg.msgid] = False\n \n-    @staticmethod\n-    def _discover_files(files_or_modules: Sequence[str]) -> Iterator[str]:\n+    def _discover_files(\n+        self, files_or_modules: Sequence[str]\n+    ) -> Iterator[str]:\n         \"\"\"Discover python modules and packages in sub-directory.\n \n         Returns iterator of paths to discovered modules and packages.\n@@ -576,6 +577,15 @@ class PyLinter(\n             ):\n                 skip_subtrees: list[str] = []\n                 for root, _, files in os.walk(something):\n+                    # Check if the current directory should be ignored\n+                    basename = os.path.basename(root)\n+                    if (\n+                        basename in self.config.ignore\n+                        or any(pattern.match(basename) for pattern in self.config.ignore_patterns)\n+                        or any(pattern.match(root) for pattern in self.config.ignore_paths)\n+                    ):\n+                        continue\n+                    \n                     if any(root.startswith(s) for s in skip_subtrees):\n                         # Skip subtree of already discovered package.\n                         continue\n@@ -587,6 +597,11 @@ class PyLinter(\n                             os.path.join(root, file)\n                             for file in files\n                             if file.endswith(\".py\")\n+                            and not (\n+                                file in self.config.ignore\n+                                or any(pattern.match(file) for pattern in self.config.ignore_patterns)\n+                                or any(pattern.match(os.path.join(root, file)) for pattern in self.config.ignore_paths)\n+                            )\n                         )\n             else:\n                 yield something\n"}