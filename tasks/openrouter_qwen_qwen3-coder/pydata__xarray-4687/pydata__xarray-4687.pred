{"model_name_or_path": "openrouter_qwen_qwen3-coder", "instance_id": "pydata__xarray-4687", "model_patch": "diff --git a/xarray/core/computation.py b/xarray/core/computation.py\nindex 9fe93c88..eb2fb675 100644\n--- a/xarray/core/computation.py\n+++ b/xarray/core/computation.py\n@@ -1727,7 +1727,7 @@ def dot(*arrays, dims=None, **kwargs):\n     return result.transpose(*all_dims, missing_dims=\"ignore\")\n \n \n-def where(cond, x, y):\n+def where(cond, x, y, keep_attrs=None):\n     \"\"\"Return elements from `x` or `y` depending on `cond`.\n \n     Performs xarray-like broadcasting across input arguments.\n@@ -1743,6 +1743,10 @@ def where(cond, x, y):\n         values to choose from where `cond` is True\n     y : scalar, array, Variable, DataArray or Dataset\n         values to choose from where `cond` is False\n+    keep_attrs : bool, optional\n+        If True, the attributes (``attrs``) will be copied from the first\n+        array to the new one. If False (default), the new object will be\n+        returned without attributes.\n \n     Returns\n     -------\n@@ -1809,7 +1813,10 @@ def where(cond, x, y):\n         equivalent methods\n     \"\"\"\n     # alignment for three arguments is complicated, so don't support it yet\n-    return apply_ufunc(\n+    if keep_attrs is None:\n+        keep_attrs = _get_keep_attrs(default=False)\n+        \n+    result = apply_ufunc(\n         duck_array_ops.where,\n         cond,\n         x,\n@@ -1817,7 +1824,19 @@ def where(cond, x, y):\n         join=\"exact\",\n         dataset_join=\"exact\",\n         dask=\"allowed\",\n+        keep_attrs=keep_attrs,\n     )\n+    \n+    # For where, we want to take attributes from the first DataArray argument\n+    # that has non-empty attributes if keep_attrs is True\n+    if keep_attrs:\n+        # Check all arguments for DataArrays with attributes\n+        for arg in [cond, x, y]:\n+            if hasattr(arg, \"attrs\") and arg.attrs:\n+                result.attrs = arg.attrs.copy()\n+                break\n+        \n+    return result\n \n \n def polyval(coord, coeffs, degree_dim=\"degree\"):\n"}