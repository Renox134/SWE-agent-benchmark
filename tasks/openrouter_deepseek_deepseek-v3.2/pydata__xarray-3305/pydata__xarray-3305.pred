{"model_name_or_path": "openrouter_deepseek_deepseek-v3.2", "instance_id": "pydata__xarray-3305", "model_patch": "diff --git a/reproduce_issue.py b/reproduce_issue.py\nnew file mode 100644\nindex 00000000..52e38356\n--- /dev/null\n+++ b/reproduce_issue.py\n@@ -0,0 +1,20 @@\n+import xarray as xr\n+\n+# Create a DataArray with attributes\n+da = xr.DataArray([0, 0], dims=\"x\", attrs={'units':'K'})\n+\n+# Test quantile with keep_attrs=True\n+out = da.quantile(.9, dim='x', keep_attrs=True)\n+\n+print(\"Input DataArray attributes:\", da.attrs)\n+print(\"Output DataArray attributes:\", out.attrs)\n+print(\"Expected: OrderedDict([('units', 'K')])\")\n+print(\"Actual:\", out.attrs)\n+\n+# Also test without keep_attrs to see default behavior\n+out2 = da.quantile(.9, dim='x')\n+print(\"\\nWithout keep_attrs (default):\", out2.attrs)\n+\n+# Test with keep_attrs=False explicitly\n+out3 = da.quantile(.9, dim='x', keep_attrs=False)\n+print(\"With keep_attrs=False:\", out3.attrs)\n\\ No newline at end of file\ndiff --git a/test_dataset_attrs.py b/test_dataset_attrs.py\nnew file mode 100644\nindex 00000000..9427013f\n--- /dev/null\n+++ b/test_dataset_attrs.py\n@@ -0,0 +1,26 @@\n+import xarray as xr\n+import numpy as np\n+\n+# Create a dataset with variable attributes\n+ds = xr.Dataset({\n+    'temperature': xr.DataArray([0, 0], dims=\"x\", attrs={'units':'K'}),\n+    'pressure': xr.DataArray([1, 1], dims=\"x\", attrs={'units':'Pa'})\n+}, attrs={'source': 'test'})\n+\n+print(\"Dataset attributes:\", ds.attrs)\n+print(\"Temperature variable attributes:\", ds['temperature'].attrs)\n+print(\"Pressure variable attributes:\", ds['pressure'].attrs)\n+\n+# Test quantile with keep_attrs=True\n+out = ds.quantile(.9, dim='x', keep_attrs=True)\n+print(\"\\nAfter quantile with keep_attrs=True:\")\n+print(\"Dataset attributes:\", out.attrs)\n+print(\"Temperature variable attributes:\", out['temperature'].attrs)\n+print(\"Pressure variable attributes:\", out['pressure'].attrs)\n+\n+# Test quantile with keep_attrs=False\n+out2 = ds.quantile(.9, dim='x', keep_attrs=False)\n+print(\"\\nAfter quantile with keep_attrs=False:\")\n+print(\"Dataset attributes:\", out2.attrs)\n+print(\"Temperature variable attributes:\", out2['temperature'].attrs)\n+print(\"Pressure variable attributes:\", out2['pressure'].attrs)\n\\ No newline at end of file\n"}